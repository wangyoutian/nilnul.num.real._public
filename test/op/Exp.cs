using System;
using System.Numerics;
using Microsoft.VisualStudio.TestTools.UnitTesting;
using nilnul.num.real.op.sqrt;
using nilnul.num.rational.float_.based;
using System.Collections.Generic;
using System.Linq;
using System.Linq.Expressions;

using Q=nilnul.num.rational.Rational_InheritFraction2;

namespace nilnul.num.real._test.op
{
	[TestClass]
	public class Exp
	{

		public const string InDecimal = @"23.1406926327792690057290863679485473802661062426002119934450464095243\
4235069045278351697199706754921967595270480108777314442804441469383584\
4717445879609849365327965863669242230268991013741764684401410395183868\
4772430680595881624498444914309667784136716319634147840382165112876377\
3147034735383316282129404789193622482022100603206544336273655727182374\
4989618858059591684872645479013397834026595101499643792422968160799565\
3814235362069576007705904608998830022543048712117913008493273795807294\
2730193104260169193932585320342896866189528329052171115718518550680225\
4197204566370865568386830544799278170407497768540367556534957218867882\
5639943847182245858894285352472605682102710760184915345184680648873867\
7443963051400516944054066526543096886906393731535983731104217443302396\
7896690035041181486053390287203759918586886897487324321721585596074334\
6764261678561173533364212656319156654548922896922457738895709053618038\
3619751032656794362408835990642234712846533437314871706517894637427341\
2694796804321041476668230286429344467874583036218963523921329324375520\
2331263478244147508006278312829271519365166830929625226829715521257410\
9382863300341189714250703916188001555050380355384371886160328888614425\
0899881003197448339122303772529361727307574134362759044269954062892257\
9087577052911014876302601020524780042062772351397195078304488762383981\
6394117444682797473080248658854369627196272388054661855341972937363736\
8419148691027035328153724386748755117214258310847410169225398434038980\
8534917403844507215114087612125811908321332649238355934917541679622823\
2219122801115327815520421901802590889176538395367450289090224797040969\
2405785082751036913560354420871706508620407109807604764966449837316163\
6034508279370165340440974416420237034108061228615353051387461832740115\
3045280107170901049021662163537764649903326493228066278702876113222326\
8803342739479758297830428171940689683261869189792204372346952679542510\
7815716933037512860984747114576499938529395531729931852240363585166643\
2346020669175389368691242250703352067335863354735887582568507415384203\
3094308893131345705716033088381538800504452907863703981598171970921717\
9025118876967240286328417036256724947916513202388951545960884080501862\
9083858048103584308518959435853216816139639351780745406344633996874965\
0173057777744258116535464257730771420029454123404787847316248466745152\
3610508829057036044982303767033402402265042353894659002230997833476496\
1491035658229035655073176685397591191074620268890838874513561540323928\
8022221725455920512691043974473013791321643862047011511401952252331456\
6160957301152751981057949213890575818996040695963120184003481811694939\
0050063276292347524327792193832821638502127016426368150289697069239711\
8675914204346025209567370587484939686481736835309890886178757055350098\
1902333825999804557278524343992712833056873647086397718936217601001241\
7529770566414179217936485567739690856358946541734849076896992356866164\
0518224884603094790569591022495866012011445605013870930489092384114472\
3660389575076366880162409278743823737448149166506149644178354996904405\
7835922724493123651518576680602086955025376644669408225183512077789259\
9001327222957119361829143530846402091415726345692213517571401822146205\
0281704560343714036872691585763405457398290983522830770292876670932250\
0426391309005073968284770377985662541684279243255020340241342854129478\
9909000898098693461858186688607060762090953500339464606516734501811483\
6282422525856328087316732562574345985327674862707958291934951905390360\
8875941136931822347777316168452568048115701565808119360027356224918165\
7931076574049762471337149153488285055374984402971807265324598661527818\
2412765249399914522937453466707437252313418764844563952256982157249416\
3036211976719456013832640406745354364545017772929774035138680069455077\
7684571313282941145462456613557751403966004715191533236797106859367653\
3130877051558249665891543356052754103653006114261293609044429544861821\
5944315863956828668975202440921531280210858372833695349688203171472813\
5451194625391231730268114209967817073910495844777913706021293115530486\
2813013822666252294581627184560284638658790044832022304068316819963160\
3953642815675852048269010398274202945498004790303414614992179338336367\
8235981221060893534718083901897228789865384560569608078870320677896324\
9068676398237355740353755584811608098386192705516889235140469906605111\
4007289613374220865523497118942492283423014322406815885699481482388799\
5135233753229973447855032760252884773932621046682174269338931761295250\
9847475041381653563840626083342904224342209001281276539232059259524667\
6225851224161931855698979074482640380239965052642494128097447262406025\
6977463441304053665109452426288751383309082936134624741933237922957302\
3994065515905802367662039038595578222848684003147206376376808118712785\
1114254686500675476889305861932029167760847571837771074473757499482245\
2359332074670151386680646665352175620384480229864105082880688043389335\
3076612996777283793500775248558767891941283958832227095144317505767488\
8439512335968086015389981612034386170164000994954282686229362224191602\
9918186565601791273991417827293641168671642242649280633763495048822359\
4918374043846463536401580788512960025428697864835621112955072700567522\
1384977063529625017650923935633122865304681017568202965028588469732748\
9413524173150412830761853758925270189860081765180737176101966941429881\
3547514470227011670727700472748573183234626713559329864074522329409490\
3397415196519117395444786137281041404719972511609800545706820205650295\
0842578660955713963031515195099124763882214371017084026904440178225724\
3251748793194286515384502340576697448250418283177094600064736685943678\
0851057992613151097429982110943354041096856525861699063517100567144735\
2373991758115925073114204225747991353039365520433086147384513271373358\
5637672256088804999985011283135675480452444784921305817905138538144672\
8869360660421237616806496095765613789059343177807366297777240682374025\
3628979698722958777411203261074190299353655617786190640651166526913019\
0570368978379961597602526914332727042340892744185797417338299489244672\
7274811735047919489966394155689835405044492382255859140618836817135634\
3652429316152025052137572606525580799092853554435002593482153327630073\
4845064993896266950403845259066029688943719045373611149972653641281464\
0124005482992936746464131407181666692911517053021067970582871250720164\
8217127643854556286090844520554684058782519881322312685752326102212563\
8796978765012938355368267960817972097205802222425440549093798658079711\
0463513706865697100526908266153018872413857486170348566943142038806998\
6241723067079779868839939800546464312939657364162252628268118424950222\
4072661861238183990472576919799486321022264994061083196043765442941486\
1989641215643359382870655607976103028687733994219730479867400753627710\
6326444313285941796364997518843368269137322938197157394788091643539726\
6952475456420495945467297883770262509213165227604354087224168473402064\
1675634737603627269211583407251016856227565910314814361917014727022547\
3196441324439187403620872518372830163013062921915594900926160908749744\
6779566516358716499968341263724669329105300166679696991959960708170246\
2011156125222697036593955551779777692350423486190448912006293609386409\
5945936444470007184836094891280420483072073078765608274615733362741456\
3674779022155677020949342300452028265025100600081175453983581900170482\
3651573303232198545399005680422938638532205549034704204998018016123644\
5472148949711026973807362701220747576127664043074187858909623504619501\
6399354944405335194493022134102901182474243291367833287235506969510698\
3652542296194552678618084336437468467345820373543029655464265810161054\
7643598547494778247162071693712848116385667895683688768393064228209400\
2024646133168799453812178778986650781407274048984344398353381545570801\
4101027173607981899188991259154121655471538885841209877008441451180871\
0544887367146014218911970017025148214850606120793477561745885768303049\
8572899183669871170899489429740985501379173063209180514025120916495126\
8697179143940131205448062701912286904602950409758136614406972567661249\
9771815667641046786495370374252785638748711328043588780871731230896673\
4018717291204682726876691918219349947469658437231181870370589712841283\
5825395767308130195681716465949946468440374947722486560825897756819258\
1511618786682099479941196528656392334671250653193833690012850187820989\
9419501241203338241751719127317192161342431263446861280601181241256060\
3204282920782047568496339560354457847887169155600211371666551896320081\
0683389584870720560105258074710463137757455619394240800496258330764151\
4175561318719720021028708978908956896670118975423436013981740146275014\
8863877538856239033375594774491564796453042740361227074415445078020261\
9265282049631460598502931326792138390019112544259260807149103969607932\
5573432198573485665426460038848927246851144666715580779771276171194551\
9922080089088166299588507826888511239359354920150922731023792514192063\
3652362708938420628676081594822575141596797160821196207062586203108912\
4962218300535444693434724576713891966041558397883782587840676341650813\
7130592699942646914435354142526903595049893503043271518514440495170199\
0127248852633638556370480107954392130914408963592156558085325173346354\
1481560135942447970019408309810467885371733756792867495871331672446232\
3713333003740506125344507065251224119961489069963440486463046857775919\
6102732134326185769526761147897186319481943341279837862891247527163638\
9450151211768541695995578601579241780287003269723686968527667283720075\
6829071902210406366101510064861255987079081010294475725021303403529760\
9267705156433561040143623836932094527537828202439464719500801900628200\
8257196761660214712965863021232530239733969467705932160402459068976894\
6800465343767009102263317416484240868887752279075848151767648214692453\
0895558067209663040352646629305534187702735337609809200970939242487420\
8094211925034152318745979866537469120079110212780881783927901864791050\
6688616769632841624215350168196949524841121527294036141396802160327713\
8165598956691852997655037994230399078553551967191049463668902249909412\
8768290156068009871689195006827790555448473860282552119998241357118279\
3126616042544576094398321723583656213608151568984304016040616";
		//N[Exp[Pi], 10000]  mathematica跑了0.001s，显示小数点后10000位

		[TestMethod]
		public void ExpOfPi()
		{



			//0.3678794411714423215955237701614608674458111310317678




			//var a=E_ToRational(0);
			var a1 = _ToRational_tillInverseOf(1);
			var a2 = _ToRational_tillInverseOf(2);
			var a3 = _ToRational_tillInverseOf(3);
			var a4 = _ToRational_tillInverseOf(4);
			var a10 = _ToRational_tillInverseOf(10);
			var a100 = _ToRational_tillInverseOf(100);
			var a1000 = _ToRational_tillInverseOf(1000);
			var a1000_000_000 = _ToRational_tillInverseOf(1000000000);
			var a1000_000_000_000_000_000 = _ToRational_tillInverseOf(BigInteger.Parse("1000000000000000000"));
			var a1000_000_000_000_000_000_000 = _ToRational_tillInverseOf(BigInteger.Parse("1000000000000000000000"));





		}

		//private RealI3 _e= 		 new nilnul.num.real.E4();

		private RealI_posConverge2NonEmpty _expOfPi;

		public Exp()
		{
			_expOfPi=  nilnul.num.real.op.Exp.Eval( nilnul.num.real.Tau_posConverge2interval.GetPi());


		}


		private nilnul.num.rational.Rational_InheritFraction2 _ToRational_tillInverseOf(BigInteger i) {


			_expOfPi.converge(
				new nilnul.num.rational.be.Positive.Asserted(
					nilnul.num.rational.op.InverseX.Inverse(
						i
					)
				
				)	
			);

			return _expOfPi.interval.midpoint;

			
		}


		
	}
}
